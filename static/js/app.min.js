!function(){"use strict";angular.module("project-staffing",["ngRoute","ngAutocomplete","employee-directives"])}(),function(){"use strict";var e=angular.module("employee-directives",[]);e.directive("navigation",function(){return{restrict:"E",templateUrl:"navigation.html"}}),e.directive("employeeTable",function(){return{restrict:"E",templateUrl:"employee-table.html"}}),e.directive("employeeForm",function(){return{restrict:"E",templateUrl:"employee-form.html"}}),e.directive("skillForm",function(){return{restrict:"E",templateUrl:"skill-form.html"}}),e.directive("projectForm",function(){return{restrict:"E",templateUrl:"project-form.html"}}),e.directive("homeaddressForm",function(){return{restrict:"E",templateUrl:"homeaddress-form.html"}})}(),function(){"use strict";angular.module("project-staffing").controller("AddressController",["$http","$scope",function(e,o){o.result="",o.details={},o.options={},o.form={type:"geocode",watchEnter:!0},this.saveAddress=function(t){console.log("update existing employee"),console.log(o.details),t.homeaddress=o.details.geometry.location,e.post("http://localhost:9000/api/mongo/employees/"+t._id,JSON.stringify(t))}}])}(),function(){"use strict";angular.module("project-staffing").controller("EmployeeController",["$http",function(e){var o=this;this.tab=1,this.employees=o.employees,this.employee={},o.employees=[],e.get("http://localhost:9000/api/mongo/employees").success(function(e){console.log("Get all employees from backend"),o.employees=e}),this.showTabs=function(){return console.log("show tabs"),void 0===this.employee._id?!1:!0},this.editEmployee=function(e){for(var o in this.employees)this.employees[o]._id===e&&(console.log("Edit Employee"),this.employee=this.employees[o])},this.resetForm=function(){this.employee={}},this.addEmployee=function(){void 0===this.employee._id?(console.log("add new employee"),e.post("http://localhost:9000/api/mongo/employees",JSON.stringify(this.employee))):(console.log("update existing employee"),e.post("http://localhost:9000/api/mongo/employees/"+this.employee._id,JSON.stringify(this.employee))),e.get("http://localhost:9000/api/mongo/employees").success(function(e){console.log("Update all employees from backend"),o.employees=e}),this.employee={}},this.deleteEmployee=function(o){console.log("Delete employee with id: "+JSON.stringify(o)),e.delete("http://localhost:9000/api/mongo/employees/"+o);for(var t in this.employees)console.log(this.employees[t]),console.log(t),this.employees[t]._id===o&&(console.log("Delete item from array"),this.employees.splice(t,1))}}])}(),function(){"use strict";angular.module("project-staffing").controller("NavigationController",["$scope",function(e){e.active="",e.set=function(o){e.active=o}}])}(),function(){"use strict";angular.module("project-staffing").controller("ProjectController",["$http",function(e){this.deleteProject=function(o,t){console.log("delete project "+o),console.log(t.projects[o]),t.projects.splice(o,1),e.post("http://localhost:9000/api/mongo/employees/"+t._id+"/projects",JSON.stringify(t))},this.addProject=function(o){console.log(o),null==o.projects&&(o.projects=[]),o.projects.push(this.project),e.post("http://localhost:9000/api/mongo/employees/"+o._id+"/projects",JSON.stringify(o)),this.project={}}}])}(),function(){"use strict";angular.module("project-staffing").controller("SkillController",["$http",function(e){this.skill="",this.deleteSkill=function(o,t){console.log("delete skill "+o),console.log(t.skills[o]),t.skills.splice(o,1),e.post("http://localhost:9000/api/mongo/employees/"+t._id+"/skills",JSON.stringify(t))},this.addSkill=function(o){for(var t in o.skills)if(t===this.skill)return;null==o.skills&&(o.skills=[]),o.skills.push(this.skill),e.post("http://localhost:9000/api/mongo/employees/"+o._id+"/skills",JSON.stringify(o)),this.skill=""}}])}(),function(){"use strict";angular.module("project-staffing").controller("StaffingController",["$http",function(e){function o(){e.get("http://localhost:9000/api/mongo/employees").success(function(e){console.log("Get all employees from backend"),t.employees=e});var o={zoom:9,center:new google.maps.LatLng(51.2111382,6.7822516),mapTypeId:google.maps.MapTypeId.ROADMAP},i=new google.maps.Map(document.getElementById("map-canvas"),o);for(var n in l){var r={strokeColor:"#4CC417",strokeOpacity:.8,strokeWeight:2,fillColor:"#4CC417",fillOpacity:.35,map:i,center:l[n].center,radius:5e4};s=new google.maps.Circle(r);var a=new google.maps.Marker({position:l[n].center,map:i,title:l[n].name}),p=new google.maps.InfoWindow({content:"<b>Company 1</b><ul><li>Project: Hurrican</li><li>Java</li><li>HTML, CSS, JavaScript</li></ul>"});google.maps.event.addListener(a,"click",function(){p.open(i,a)})}var c,m,g,h={url:"http://avatars.yandex.net/get-avatar/81634860/f30c9984082194d1e18aa03b3e53934d.4011-middle",size:new google.maps.Size(64,64),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(0,64)},d=new google.maps.InfoWindow;for(m=0;m<t.employees.length;m++)g=t.employees[m],c=new google.maps.Marker({position:new google.maps.LatLng(g.homeaddress.k,g.homeaddress.A),map:i,icon:h,title:g.name}),google.maps.event.addListener(c,"click",function(e,o){return function(){var l=t.employees[o],s="<b>"+l.name+"</b>";if(l.skills){s+="<ul>";for(var n=0;n<l.skills.length;n++)s+="<li>"+l.skills[n]+"</li>";s+="</ul>"}else s+="<br>Keine Skills vorhanden.";d.setContent(s),d.open(i,e)}}(c,m))}console.log("Staffing Controller"),this.test=10;var t=this;this.employees=t.employees,t.employees=[];var l={};l.company1={center:new google.maps.LatLng(51.2111382,6.7822516),name:"Company 1 Dï¿½sseldorf"};var s;google.maps.event.addDomListener(window,"load",o),this.refreshMap=function(){o()}}])}(),function(){"use strict";angular.module("project-staffing").config(["$routeProvider",function(e){e.when("/",{templateUrl:"views/index.html"}).when("/dashboard",{templateUrl:"views/dashboard.html"}).when("/list-employees",{templateUrl:"views/list_employees.html",controller:"EmployeeController",controllerAs:"employeeCtrl"}).when("/add-employee",{templateUrl:"views/add_employee.html",controller:"EmployeeController",controllerAs:"employeeCtrl"}).when("/list-customers",{templateUrl:"views/list_customers.html"}).when("/staffing",{templateUrl:"views/staff_project.html",controller:"StaffingController",controllerAs:"staffingCtrl"}).when("/add-customer",{templateUrl:"views/add_customer.html"}).when("/duesseldorf",{templateUrl:"views/duesseldorf.html"}).when("/help",{templateUrl:"views/help.html"}).otherwise({redirectTo:"/"})}])}();